/**
*	Follow us on Twitter: https://twitter.com/firstvector
*	Visit our website: http://firstvector.org/
*	See information about our team: http://firstvector.org/humans.txt
*
*   @author BR0kEN, Firstvector.org
*   @depend jQuery
*   @update August 21, 2013 by @author
*
*   Custom "tap" event for touch devices.
*/

(function($){'use strict';var o={};o={a:'ontouchstart'in document,b:{a:'',b:''},c:o.a?'touchstart':'mousedown',d:o.a?'touchend':'mouseup',e:'',f:'',g:!1,h:0,X:0,Y:0};$.fn.tap=function(a){return a?this.bind('tap',a):this.trigger('tap')};$.event.special.tap={setup:function(){$(this).bind(o.c+' '+o.d,function(e){o.e=o.a?e.originalEvent.changedTouches[0]:e}).bind(o.c,function tapstart(e){o.b.a=tapstart;if(e.which&&e.which!==1)return false;else{o.g=true;o.f=e.target;o.h=new Date().getTime();o.X=o.e.pageX;o.Y=o.e.pageY;return true}}).bind(o.d,function tapend(e){o.b.b=tapend;if(o.f==e.target&&o.g&&((new Date().getTime()-o.h)<750)&&(o.X==o.e.pageX&&o.Y==o.e.pageY)){e.type='tap';$.event.dispatch.call(this,e,{position:{x:o.e.screenX,y:o.e.screenY},offset:{x:o.a?o.e.pageX-o.e.target.offsetLeft:e.offsetX,y:o.a?o.e.pageY-o.e.target.offsetTop:e.offsetY},time:new Date().getTime(),target:e.target})}})},remove:function(){$(this).unbind(o.c,o.b.a).unbind(o.d,o.b.b)}}})(jQuery);